if(typeof global==="undefined")if(typeof window!=="undefined")global=window;else if(typeof self!=="undefined")global=self;(function(g){"use strict";var a={__assemblies:{}};a.initAssembly=function(b,d,c){c=c||{};b.name=d;b.toString=function(){return this.name};b.__types={};b.getResourceNames=function(){return Object.keys(c)};b.getResourceDataBase64=function(a){return c[a]||null};b.getResourceData=function(d){var b=c[d];return b?a.dec64(b):null};a.__assemblies[d]=b};a.initAssembly(a,"mscorlib");a.load=function(b){return a.__assemblies[b]||require(b)};var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r;a.enc64=function(b,g){for(var f="",a=0;a<b.length;a+=3){var c=b[a],d=b[a+1],e=b[a+2];f+=(g&&a&&!(a%57)?"\n":"")+w[c>>2]+w[(c&3)<<4|d>>4]+(a<b.length-1?w[(d&15)<<2|e>>6]:"=")+(a<b.length-2?w[e&63]:"=")}return f};a.dec64=function(a){a=a.replace(/\s/g,"");r=r||function(){for(var b={"=":-1},a=0;a<64;a++)b[w[a]]=a;return b}();for(var c=Array(Math.max(a.length*3/4-2,0)),b=0;b<a.length;b+=4){var e=b*3/4,h=r[a[b]],f=r[a[b+1]],d=r[a[b+2]],g=r[a[b+3]];c[e]=h<<2|f>>4;if(d>=0)c[e+1]=(f&15)<<4|d>>2;if(g>=0)c[e+2]=(d&3)<<6|g}return c};a.getAssemblies=function(){return Object.keys(a.__assemblies).map(function(b){return a.__assemblies[b]})};a.isNullOrUndefined=function(a){return a===null||a===undefined};a.isValue=function(a){return a!==null&&a!==undefined};a.referenceEquals=function(b,c){return a.isValue(b)?b===c:!a.isValue(c)};a.mkdict=function(){for(var b=arguments.length!==1?arguments:arguments[0],c={},a=0;a<b.length;a+=2)c[b[a]]=b[a+1];return c};a.clone=function(b,a){return a?b.$clone(a):a};a.coalesce=function(b,c){return a.isValue(b)?b:c};a.isDate=function(a){return Object.prototype.toString.call(a)==="[object Date]"};a.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};a.isTypedArrayType=function(b){return["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray"].indexOf(a.getTypeFullName(b))>=0};a.isArrayOrTypedArray=function(b){return a.isArray(b)||a.isTypedArrayType(a.getInstanceType(b))};a.getHashCode=function(b){if(!a.isValue(b))throw new l("Cannot get hash code of null");else if(typeof b.getHashCode==="function")return b.getHashCode();else if(typeof b==="boolean")return b?1:0;else if(typeof b==="number"){var c=b.toExponential();c=c.substr(0,c.indexOf("e"));return parseInt(c.replace(".",""),10)&4294967295}else if(typeof b==="string"){for(var d=0,e=0;e<b.length;e++)d=d*31+b.charCodeAt(e)&4294967295;return d}else return a.isDate(b)?b.valueOf()&4294967295:a.defaultHashCode(b)};a.defaultHashCode=function(a){return a.$__hashCode__||(a.$__hashCode__=Math.random()*4294967296|0)};a.equals=function(b,c){if(!a.isValue(b))throw new l("Object is null");else if(b!==a&&typeof b.equals==="function")return b.equals(c);return a.isDate(b)&&a.isDate(c)?b.valueOf()===c.valueOf():typeof b==="function"&&typeof c==="function"?a.delegateEquals(b,c):a.isNullOrUndefined(b)&&a.isNullOrUndefined(c)?true:b===c};a.compare=function(b,c){if(!a.isValue(b))throw new l("Object is null");else return typeof b==="number"||typeof b==="string"||typeof b==="boolean"?a.isValue(c)?b<c?-1:b>c?1:0:1:a.isDate(b)?a.isValue(c)?a.compare(b.valueOf(),c.valueOf()):1:b.compareTo(c)};a.equalsT=function(b,c){if(!a.isValue(b))throw new l("Object is null");else return typeof b==="number"||typeof b==="string"||typeof b==="boolean"?b===c:a.isDate(b)?b.valueOf()===c.valueOf():b.equalsT(c)};a.staticEquals=function(c,b){return!a.isValue(c)?!a.isValue(b):a.isValue(b)?a.equals(c,b):false};a.shallowCopy=function(){try{var b=Object.getOwnPropertyDescriptor({a:0},"a").value;return true}catch(a){return false}}()?function(c,d){for(var b=Object.keys(c),a=0,e=b.length;a<e;a++)Object.defineProperty(d,b[a],Object.getOwnPropertyDescriptor(c,b[a]))}:function(c,d){for(var b=Object.keys(c),a=0,e=b.length;a<e;a++)d[b[a]]=c[b[a]]};a.isLower=function(b){var a=String.fromCharCode(b);return a===a.toLowerCase()&&a!==a.toUpperCase()};a.isUpper=function(b){var a=String.fromCharCode(b);return a!==a.toLowerCase()&&a===a.toUpperCase()};if(typeof window=="object"){if(!window.Element){window.Element=function(){};window.Element.isInstanceOfType=function(a){return a&&typeof a.constructor==="undefined"&&typeof a.tagName==="string"}}window.Element.__typeName="Element";a.parseXml=function(b){var a=new DOMParser;return a.parseFromString(b,"text/xml")}}a.clearKeys=function(a){for(var b in a)if(a.hasOwnProperty(b))delete a[b]};a.keyExists=function(b,a){return b[a]!==undefined};if(!Object.keys)Object.keys=function(){"use strict";var b=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=a.length;return function(e){if(typeof e!=="object"&&(typeof e!=="function"||e===null))throw new TypeError("Object.keys called on non-object");var g=[],h,f;for(h in e)b.call(e,h)&&g.push(h);if(d)for(f=0;f<c;f++)b.call(e,a[f])&&g.push(a[f]);return g}}();a.getKeyCount=function(a){return Object.keys(a).length};a.__genericCache={};a._makeGenericTypeName=function(e,d){for(var c=a.getTypeFullName(e),b=0;b<d.length;b++)c+=(b===0?"[":",")+"["+a.getTypeFullName(d[b])+"]";c+="]";return c};a.makeGenericType=function(b,c){var d=a._makeGenericTypeName(b,c);return a.__genericCache[a._makeQName(d,b.__assembly)]||b.apply(null,c)};a._registerGenericInstance=function(c,d,b,e,f,h){if(!b)b=function(){};var g=a._makeGenericTypeName(c,d);a.__genericCache[a._makeQName(g,c.__assembly)]=b;b.__typeName=g;b.__assembly=c.__assembly;b.__genericTypeDefinition=c;b.__typeArguments=d;f&&a.shallowCopy(f,b);h(b);e&&a.shallowCopy(e,b.prototype);return b};a.registerGenericClassInstance=function(e,d,f,g,h,c,b){return a._registerGenericInstance(e,d,f,g,h,function(d){a.initClass(d,c?c():null,b?b():null)})};a.registerGenericStructInstance=function(d,c,e,f,g,b){return a._registerGenericInstance(d,c,e,f,g,function(c){a.initStruct(c,b?b():null)})};a.registerGenericInterfaceInstance=function(e,d,c,b){return a._registerGenericInstance(e,d,null,c,null,function(d){a.initInterface(d,c,b?b():null)})};a.isGenericTypeDefinition=function(a){return a.__isGenericTypeDefinition||false};a.getGenericTypeDefinition=function(a){return a.__genericTypeDefinition||null};a.getGenericParameterCount=function(a){return a.__typeArgumentCount||0};a.getGenericArguments=function(a){return a.__typeArguments||null};a.__anonymousCache={};a.anonymousType=function(){var c=Array.prototype.slice.call(arguments),d="Anonymous<"+c.map(function(b){return b[1]+":"+a.getTypeFullName(b[0])}).join(",")+">",b=a.__anonymousCache[d];if(!b){b=new Function(c.map(function(a){return a[1]}).join(","),c.map(function(a){return"this."+a[1]+"="+a[1]+";"}).join(""));b.__typeName=d;var e=c.map(function(a){return{name:a[1],typeDef:b,type:16,returnType:a[0],getter:{name:"get_"+a[1],typeDef:b,params:[],returnType:a[0],fget:a[1]}}});e.push({name:".ctor",typeDef:b,type:1,params:c.map(function(a){return a[0]})});b.__metadata={members:e};a.__anonymousCache[d]=b}return b};a.setMetadata=function(c,d){if(d.members)for(var e=0;e<d.members.length;e++){var b=d.members[e];b.typeDef=c;if(b.adder)b.adder.typeDef=c;if(b.remover)b.remover.typeDef=c;if(b.getter)b.getter.typeDef=c;if(b.setter)b.setter.typeDef=c}c.__metadata=d;if(d.variance)c.isAssignableFrom=function(c){var e=function(b,d){if(d.__genericTypeDefinition===b.__genericTypeDefinition&&d.__typeArguments.length===b.__typeArguments.length){for(var c=0;c<b.__typeArguments.length;c++){var g=b.__metadata.variance[c],f=b.__typeArguments[c],e=d.__typeArguments[c];switch(g){case 1:if(!a.isAssignableFrom(f,e))return false;break;case 2:if(!a.isAssignableFrom(e,f))return false;break;default:if(e!==f)return false}}return true}return false};if(c.__interface&&e(this,c))return true;for(var d=a.getInterfaces(c),b=0;b<d.length;b++)if(d[b]===this||e(this,d[b]))return true;return false}};a.mkType=function(c,d,b,e,f){if(!b)b=function(){};b.__assembly=c;b.__typeName=d;if(c)c.__types[d]=b;if(e)b.__members=e;f&&a.shallowCopy(f,b);return b};a.mkEnum=function(f,d,e,c){var b=a.mkType(f,d);a.shallowCopy(e,b.prototype);b.__enum=true;b.getDefaultValue=b.createInstance=function(){return c?null:0};b.isInstanceOfType=function(a){return typeof a===(c?"string":"number")};return b};a.initClass=function(b,c,d){b.__class=true;if(c&&c!==Object){var e=function(){};e.prototype=c.prototype;b.prototype=new e;b.prototype.constructor=b}if(b.__members){a.shallowCopy(b.__members,b.prototype);delete b.__members}if(d)b.__interfaces=d};a.initStruct=function(b,c){a.initClass(b,null,c);b.__class=false;b.getDefaultValue=b.getDefaultValue||b.createInstance||function(){return new b}};a.initGenericClass=function(a,b){a.__class=true;a.__typeArgumentCount=b;a.__isGenericTypeDefinition=true};a.initGenericStruct=function(b,c){a.initGenericClass(b,c);b.__class=false};a.initInterface=function(b,d,c){b.__interface=true;if(c)b.__interfaces=c;a.shallowCopy(d,b.prototype);b.isAssignableFrom=function(b){return a.contains(a.getInterfaces(b),this)}};a.initGenericInterface=function(a,b){a.__interface=true;a.__typeArgumentCount=b;a.__isGenericTypeDefinition=true};a.getBaseType=function(b){if(b===Object||b.__interface)return null;else if(Object.getPrototypeOf)return Object.getPrototypeOf(b.prototype).constructor;else{var a=b.prototype;if(Object.prototype.hasOwnProperty.call(a,"constructor")){var c=a.constructor;try{delete a.constructor;return a.constructor}finally{a.constructor=c}}return a.constructor}};a.getTypeFullName=function(a){return a.__typeName||a.name||(a.toString().match(/^\s*function\s*([^\s(]+)/)||[])[1]||"Object"};a._makeQName=function(b,a){return b+(a?", "+a.name:"")};a.getTypeQName=function(b){return a._makeQName(a.getTypeFullName(b),b.__assembly)};a.getTypeName=function(e){var b=a.getTypeFullName(e),d=b.indexOf("["),c=b.lastIndexOf(".",d>=0?d:b.length);return c>0?b.substr(c+1):b};a.getTypeNamespace=function(e){var b=a.getTypeFullName(e),d=b.indexOf("["),c=b.lastIndexOf(".",d>=0?d:b.length);return c>0?b.substr(0,c):""};a.getTypeAssembly=function(b){return a.contains([Date,Number,Boolean,String,Function,Array],b)?a:b.__assembly||null};a._getAssemblyType=function(b,d){if(b.__types)return b.__types[d]||null;else{for(var e=d.split("."),c=0;c<e.length;c++){b=b[e[c]];if(!a.isValue(b))return null}return typeof b!=="function"?null:b}};a.getAssemblyTypes=function(b){var c=[];if(b.__types)for(var e in b.__types)b.__types.hasOwnProperty(e)&&c.push(b.__types[e]);else{var d=function(b,f){for(var e in b)b.hasOwnProperty(e)&&d(b[e],e);typeof b==="function"&&a.isUpper(f.charCodeAt(0))&&c.push(b)};d(b,"")}return c};a.createAssemblyInstance=function(d,c){var b=a.getType(c,d);return b?a.createInstance(b):null};a.getInterfaces=function(b){return b.__interfaces?b.__interfaces:b===Date||b===Number?[q,u,B]:b===Boolean||b===String?[q,u]:b===Array||a.isTypedArrayType(b)?[p,L,X,H,T]:[]};a.isInstanceOfType=function(b,c){return a.isNullOrUndefined(b)?false:typeof c.isInstanceOfType==="function"?c.isInstanceOfType(b):a.isAssignableFrom(c,a.getInstanceType(b))};a.isAssignableFrom=function(a,b){return a===b||typeof a.isAssignableFrom==="function"&&a.isAssignableFrom(b)||b.prototype instanceof a};a.isClass=function(a){return a.__class===true||a===Array||a===Function||a===RegExp||a===String||a===Error||a===Object};a.isEnum=function(a){return!!a.__enum};a.isFlags=function(a){return a.__metadata&&a.__metadata.enumFlags||false};a.isInterface=function(a){return!!a.__interface};a.safeCast=function(b,c){return c===true?b:c===false?null:a.isInstanceOfType(b,c)?b:null};a.cast=function(b,c){if(b===null||typeof b==="undefined")return b;else if(c===true||c!==false&&a.isInstanceOfType(b,c))return b;throw new Q("Cannot cast object to type "+a.getTypeFullName(c));};a.getInstanceType=function(b){if(!a.isValue(b))throw new l("Cannot get type of null");try{return b.constructor}catch(c){return Object}};a._getType=function(c,i,b){var k=!b;b=b||/[[,\]]/g;var j=b.lastIndex,d=b.exec(c),h,f=[],e;if(d){h=c.substring(j,d.index);switch(d[0]){case"[":if(c[d.index+1]!=="[")return null;for(;true;){b.exec(c);e=a._getType(c,g,b);if(!e)return null;f.push(e);d=b.exec(c);if(d[0]==="]")break;else if(d[0]!==",")return null}d=b.exec(c);if(d&&d[0]===","){b.exec(c);if(!(i=a.__assemblies[(b.lastIndex>0?c.substring(d.index+1,b.lastIndex-1):c.substring(d.index+1)).trim()]))return null}break;case",":b.exec(c);if(!(i=a.__assemblies[(b.lastIndex>0?c.substring(d.index+1,b.lastIndex-1):c.substring(d.index+1)).trim()]))return null}}else h=c.substring(j);if(k&&b.lastIndex)return null;e=a._getAssemblyType(i,h.trim());return f.length?a.makeGenericType(e,f):e};a.getType=function(b,c){return b?a._getType(b,c||g):null};a.getDefaultValue=function(a){return typeof a.getDefaultValue==="function"?a.getDefaultValue():a===Boolean?false:a===Date?new Date(0):a===Number?0:null};a.createInstance=function(a){return typeof a.createInstance==="function"?a.createInstance():a===Boolean?false:a===Date?new Date(0):a===Number?0:a===String?"":new a};a.applyConstructor=function(a,c){var b=function(){a.apply(this,c)};b.prototype=a.prototype;return new b};a.getAttributes=function(f,h,j){var e=[],c,b,d;if(j){var i=a.getBaseType(f);if(i){c=a.getAttributes(i,h,true);for(b=0;b<c.length;b++){d=a.getInstanceType(c[b]);(!d.__metadata||!d.__metadata.attrNoInherit)&&e.push(c[b])}}}if(f.__metadata&&f.__metadata.attr)for(b=0;b<f.__metadata.attr.length;b++){c=f.__metadata.attr[b];if(h==null||a.isInstanceOfType(c,h)){d=a.getInstanceType(c);if(!d.__metadata||!d.__metadata.attrAllowMultiple)for(var g=e.length-1;g>=0;g--)a.isInstanceOfType(e[g],d)&&e.splice(g,1);e.push(c)}}return e};a.getMembers=function(b,k,d,h,f){var e=[];if((d&72)===72||(d&6)===4){var m=a.getBaseType(b);if(m)e=a.getMembers(m,k&~1,d&(d&64?255:247)&(d&2?251:255),h,f)}var n=function(a){if(k&a.type&&(d&4&&!a.isStatic||d&8&&a.isStatic)&&(!h||a.name===h)){if(f){if((a.params||[]).length!==f.length)return;for(var b=0;b<f.length;b++)if(f[b]!==a.params[b])return}e.push(a)}},c;if(b.__metadata&&b.__metadata.members)for(c=0;c<b.__metadata.members.length;c++){var j=b.__metadata.members[c];n(j);for(var i=0;i<4;i++){var l=(["getter","setter","adder","remover"])[i];j[l]&&n(j[l])}}if(d&256){while(b){var g=[];for(c=0;c<e.length;c++)e[c].typeDef===b&&g.push(e[c]);if(g.length>1)throw new O("Ambiguous match");else if(g.length===1)return g[0];b=a.getBaseType(b)}return null}return e};a.midel=function(b,f,e){if(b.isStatic&&!!f)throw new c("Cannot specify target for static method");else if(!b.isStatic&&!f)throw new c("Must specify target for instance method");var d;if(b.fget)d=function(){return(b.isStatic?b.typeDef:this)[b.fget]};else if(b.fset)d=function(a){(b.isStatic?b.typeDef:this)[b.fset]=a};else{d=b.def||(b.isStatic||b.sm?b.typeDef[b.sname]:f[b.sname]);if(b.tpcount){if(!e||e.length!==b.tpcount)throw new c("Wrong number of type arguments");d=d.apply(null,e)}else if(e&&e.length)throw new c("Cannot specify type arguments for non-generic method");if(b.exp){var g=d;d=function(){return g.apply(this,Array.prototype.slice.call(arguments,0,arguments.length-1).concat(arguments[arguments.length-1]))}}if(b.sm){var h=d;d=function(){return h.apply(null,[this].concat(Array.prototype.slice.call(arguments)))}}}return a.mkdel(f,d)};a.invokeCI=function(b,c){if(b.exp)c=c.slice(0,c.length-1).concat(c[c.length-1]);return b.def?b.def.apply(null,c):b.sm?b.typeDef[b.sname].apply(null,c):a.applyConstructor(b.sname?b.typeDef[b.sname]:b.typeDef,c)};a.fieldAccess=function(b,a){if(b.isStatic&&!!a)throw new c("Cannot specify target for static field");else if(!b.isStatic&&!a)throw new c("Must specify target for instance field");a=b.isStatic?b.typeDef:a;if(arguments.length===3)a[b.sname]=arguments[2];return a[b.sname]};var B=a.IFormattable=a.mkType(a,"ss.IFormattable");a.initInterface(B,{format:null});a.format=function(b,c){return typeof b==="number"?a.formatNumber(b,c):a.isDate(b)?a.formatDate(b,c):b.format(c)};var u=a.IComparable=a.mkType(a,"ss.IComparable");a.initInterface(u,{compareTo:null});var q=a.IEquatable=a.mkType(a,"ss.IEquatable");a.initInterface(q,{equalsT:null});a.formatNumber=function(c,b){return a.isNullOrUndefined(b)||b.length===0||b==="i"?c.toString():a.netFormatNumber(c,b,e.invariantCulture.numberFormat)};a.localeFormatNumber=function(c,b){return a.isNullOrUndefined(b)||b.length===0||b==="i"?c.toLocaleString():a.netFormatNumber(c,b,e.currentCulture.numberFormat)};a._commaFormatNumber=function(b,k,o,p){var d=null,i=b.indexOf(o);if(i>0){d=b.substr(i);b=b.substr(0,i)}var j=a.startsWithString(b,"-");if(j)b=b.substr(1);var g=0,h=k[g];if(b.length<h)return(j?"-":"")+(d?b+d:b);var l=b.length,c="",m=false;while(!m){var f=h,e=l-f;if(e<0){h+=e;f+=e;e=0;m=true}if(!f)break;var n=b.substr(e,f);if(c.length)c=n+p+c;else c=n;l-=f;if(g<k.length-1){g++;h=k[g]}}if(j)c="-"+c;return d?c+d:c};a.netFormatNumber=function(f,i,j){var c=j&&j.getFormat(k)||e.currentCulture.numberFormat,b="",d=-1;if(i.length>1)d=parseInt(i.substr(1),10);var h=i.charAt(0),g;switch(h){case"d":case"D":b=parseInt(Math.abs(f)).toString();if(d!==-1)b=a.padLeftString(b,d,48);if(f<0)b="-"+b;break;case"x":case"X":b=parseInt(Math.abs(f)).toString(16);if(h==="X")b=b.toUpperCase();if(d!==-1)b=a.padLeftString(b,d,48);break;case"e":case"E":if(d===-1)b=f.toExponential();else b=f.toExponential(d);if(h==="E")b=b.toUpperCase();break;case"f":case"F":case"n":case"N":if(d===-1)d=c.numberDecimalDigits;b=f.toFixed(d).toString();if(d&&c.numberDecimalSeparator!=="."){g=b.indexOf(".");b=b.substr(0,g)+c.numberDecimalSeparator+b.substr(g+1)}if(h==="n"||h==="N")b=a._commaFormatNumber(b,c.numberGroupSizes,c.numberDecimalSeparator,c.numberGroupSeparator);break;case"c":case"C":if(d===-1)d=c.currencyDecimalDigits;b=Math.abs(f).toFixed(d).toString();if(d&&c.currencyDecimalSeparator!=="."){g=b.indexOf(".");b=b.substr(0,g)+c.currencyDecimalSeparator+b.substr(g+1)}b=a._commaFormatNumber(b,c.currencyGroupSizes,c.currencyDecimalSeparator,c.currencyGroupSeparator);if(f<0)b=a.formatString(c.currencyNegativePattern,b);else b=a.formatString(c.currencyPositivePattern,b);break;case"p":case"P":if(d===-1)d=c.percentDecimalDigits;b=(Math.abs(f)*100).toFixed(d).toString();if(d&&c.percentDecimalSeparator!=="."){g=b.indexOf(".");b=b.substr(0,g)+c.percentDecimalSeparator+b.substr(g+1)}b=a._commaFormatNumber(b,c.percentGroupSizes,c.percentDecimalSeparator,c.percentGroupSeparator);if(f<0)b=a.formatString(c.percentNegativePattern,b);else b=a.formatString(c.percentPositivePattern,b)}return b};a.netSplit=function(d,h,i,f){for(var g=new RegExp(h.map(a.regexpEscape).join("|"),"g"),b=[],e,c=0;true;c=g.lastIndex)if(e=g.exec(d)){if(f!==1||e.index>c)if(b.length===i-1){b.push(d.substr(c));return b}else b.push(d.substring(c,e.index))}else{(f!==1||c!==d.length)&&b.push(d.substr(c));return b}};a.compareStrings=function(c,b,d){if(!a.isValue(c))return a.isValue(b)?-1:0;if(!a.isValue(b))return 1;if(d){if(c)c=c.toUpperCase();if(b)b=b.toUpperCase()}c=c||"";b=b||"";return c===b?0:c<b?-1:1};a.endsWithString=function(b,a){return!a.length?true:a.length>b.length?false:b.substr(b.length-a.length)===a};a._formatString=function(c,d,b){if(!a._formatRE)a._formatRE=/\{\{|\}\}|\{[^\}\{]+\}/g;return c.replace(a._formatRE,function(c){if(c==="{{"||c==="}}")return c.charAt(0);var h=parseInt(c.substr(1),10),e=d[h+1];if(a.isNullOrUndefined(e))return"";if(a.isInstanceOfType(e,B)){var g=null,f=c.indexOf(":");if(f>0)g=c.substring(f+1,c.length-1);return a.format(e,g)}else return b?e.toLocaleString():e.toString()})};a.formatString=function(b){return a._formatString(b,arguments,false)};a.stringFromChar=function(a,d){for(var c=a,b=1;b<d;b++)c+=a;return c};a.htmlDecode=function(a){return a.replace(/&([^;]+);/g,function(b,a){if(a[0]==="#")return String.fromCharCode(parseInt(a.substr(1),10));switch(a){case"quot":return'"';case"apos":return"'";case"amp":return"&";case"lt":return"<";case"gt":return">";default:return"&"+a+";"}})};a.htmlEncode=function(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};a.jsEncode=function(a,b){a=a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"');return b?'"'+a+'"':a};a.indexOfAnyString=function(g,e,a,f){var b=g.length;if(!b)return-1;e=String.fromCharCode.apply(null,e);a=a||0;f=f||b;var d=a+f-1;if(d>=b)d=b-1;for(var c=a;c<=d;c++)if(e.indexOf(g.charAt(c))>=0)return c;return-1};a.insertString=function(a,b,c){if(!c)return a;if(!b)return c+a;var d=a.substr(0,b),e=a.substr(b);return d+c+e};a.isNullOrEmptyString=function(a){return!a||!a.length};a.lastIndexOfAnyString=function(g,e,a,f){var d=g.length;if(!d)return-1;e=String.fromCharCode.apply(null,e);a=a||d-1;f=f||d;var c=a-f+1;if(c<0)c=0;for(var b=a;b>=c;b--)if(e.indexOf(g.charAt(b))>=0)return b;return-1};a.localeFormatString=function(b){return a._formatString(b,arguments,true)};a.padLeftString=function(b,d,c){if(b.length<d){c=String.fromCharCode(c||32);return a.stringFromChar(c,d-b.length)+b}return b};a.padRightString=function(b,d,c){if(b.length<d){c=String.fromCharCode(c||32);return b+a.stringFromChar(c,d-b.length)}return b};a.removeString=function(c,a,b){return!b||a+b>this.length?c.substr(0,a):c.substr(0,a)+c.substr(a+b)};a.replaceAllString=function(c,b,a){a=a||"";return c.split(b).join(a)};a.startsWithString=function(b,a){return!a.length?true:a.length>b.length?false:b.substr(0,a.length)===a};if(!String.prototype.trim)String.prototype.trim=function(){return a.trimStartString(a.trimEndString(this))};a.trimEndString=function(b,a){return b.replace(a?new RegExp("["+String.fromCharCode.apply(null,a)+"]+$"):/\s*$/,"")};a.trimStartString=function(b,a){return b.replace(a?new RegExp("^["+String.fromCharCode.apply(null,a)+"]+"):/^\s*/,"")};a.trimString=function(c,b){return a.trimStartString(a.trimEndString(c,b),b)};a.lastIndexOfString=function(e,c,a,d){var b=e.lastIndexOf(c,a);return b<a-d+1?-1:b};a.indexOfString=function(e,b,a,d){var c=e.indexOf(b,a);return c+b.length<=a+d?c:-1};a.divRem=function(b,c,d){var a=b%c;d.$=a;return(b-a)/c};a.round=function(a,f,e){var c=Math.pow(10,f||0);a*=c;var b=a>0|-(a<0);if(a%1===.5*b){var d=Math.floor(a);return(d+(e?b>0:d%2*b))/c}return Math.round(a)/c};var A=a.IFormatProvider=a.mkType(a,"ss.IFormatProvider");a.initInterface(A,{getFormat:null});var k=a.NumberFormatInfo=a.mkType(a,"ss.NumberFormatInfo",function(){},{getFormat:function(a){return a===k?this:null}});a.initClass(k,null,[A]);k.invariantInfo=new k;a.shallowCopy({naNSymbol:"NaN",negativeSign:"-",positiveSign:"+",negativeInfinitySymbol:"-Infinity",positiveInfinitySymbol:"Infinity",percentSymbol:"%",percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:".",percentGroupSeparator:",",percentPositivePattern:0,percentNegativePattern:0,currencySymbol:"$",currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:".",currencyGroupSeparator:",",currencyNegativePattern:0,currencyPositivePattern:0,numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:".",numberGroupSeparator:","},k.invariantInfo);var j=a.DateTimeFormatInfo=a.mkType(a,"ss.DateTimeFormatInfo",function(){},{getFormat:function(a){return a===j?this:null}});a.initClass(j,null,[A]);j.invariantInfo=new j;a.shallowCopy({amDesignator:"AM",pmDesignator:"PM",dateSeparator:"/",timeSeparator:":",gmtDateTimePattern:"ddd, dd MMM yyyy HH:mm:ss 'GMT'",universalDateTimePattern:"yyyy-MM-dd HH:mm:ssZ",sortableDateTimePattern:"yyyy-MM-ddTHH:mm:ss",dateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",longDatePattern:"dddd, MMMM dd, yyyy",shortDatePattern:"M/d/yyyy",longTimePattern:"h:mm:ss tt",shortTimePattern:"h:mm tt",firstDayOfWeek:0,dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minimizedDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},j.invariantInfo);a._flatIndex=function(a,d){if(d.length!==(a._sizes?a._sizes.length:1))throw new c("Invalid number of indices");if(d[0]<0||d[0]>=(a._sizes?a._sizes[0]:a.length))throw new c("Index 0 out of range");var e=d[0];if(a._sizes)for(var b=1;b<a._sizes.length;b++){if(d[b]<0||d[b]>=a._sizes[b])throw new c("Index "+b+" out of range");e=e*a._sizes[b]+d[b]}return e};a.arrayGet2=function(b,d){var e=a._flatIndex(b,d),c=b[e];return typeof c!=="undefined"?c:b._defvalue};a.arrayGet=function(b){return a.arrayGet2(b,Array.prototype.slice.call(arguments,1))};a.arraySet2=function(b,d,c){var e=a._flatIndex(b,c);b[e]=d};a.arraySet=function(){return a.arraySet2(arguments[0],arguments[arguments.length-1],Array.prototype.slice.call(arguments,1,arguments.length-1))};a.arrayRank=function(a){return a._sizes?a._sizes.length:1};a.arrayLength=function(a,b){if(b>=(a._sizes?a._sizes.length:1))throw new c("Invalid dimension");return a._sizes?a._sizes[b]:a.length};a.arrayExtract=function(d,b,c){return!a.isValue(c)?d.slice(b):d.slice(b,b+c)};a.arrayAddRange=function(d,c){if(c instanceof Array)d.push.apply(d,c);else{var b=a.getEnumerator(c);try{while(b.moveNext())a.add(d,b.current())}finally{a.isInstanceOfType(b,f)&&a.cast(b,f).dispose()}}};a.arrayClone=function(a){return a.length===1?[a[0]]:Array.apply(null,a)};a.arrayPeekFront=function(a){if(a.length)return a[0];throw new d("Array is empty");};a.arrayPeekBack=function(a){if(a.length)return a[a.length-1];throw new d("Array is empty");};a.indexOfArray=function(d,e,c){c=c||0;for(var b=c;b<d.length;b++)if(a.staticEquals(d[b],e))return b;return-1};a.arrayInsertRange=function(d,c,b){if(b instanceof Array)if(c===0)d.unshift.apply(d,b);else for(var g=0;g<b.length;g++)d.splice(c+g,0,b[g]);else{var e=a.getEnumerator(b);try{while(e.moveNext()){d.insert(c,e.current());c++}}finally{a.isInstanceOfType(e,f)&&a.cast(e,f).dispose()}}};if(!Array.prototype.map)Array.prototype.map=function(d,e){for(var b=this.length,c=new Array(b),a=0;a<b;a++)if(a in this)c[a]=d.call(e,this[a],a,this);return c};a.arrayRemoveRange=function(c,b,a){c.splice(b,a)};if(!Array.prototype.some)Array.prototype.some=function(b,c){for(var d=this.length,a=0;a<d;a++)if(a in this&&b.call(c,this[a],a,this))return true;return false};if(!Array.prototype.forEach)Array.prototype.forEach=function(c,f){var e,a;if(this==null)throw new TypeError(" this is null or not defined");var b=Object(this),g=b.length>>>0;if(typeof c!=="function")throw new TypeError(c+" is not a function");if(arguments.length>1)e=f;a=0;while(a<g){var d;if(a in b){d=b[a];c.call(e,d,a,b)}a++}};if(!Array.prototype.filter)Array.prototype.filter=function(c){if(this===void 0||this===null)throw new TypeError;var b=Object(this),g=b.length>>>0;if(typeof c!=="function")throw new TypeError;for(var d=[],f=arguments.length>=2?arguments[1]:void 0,a=0;a<g;a++)if(a in b){var e=b[a];c.call(f,e,a,b)&&d.push(e)}return d};a.arrayFromEnumerable=function(c){if(!a.isValue(c))return null;var b=a.getEnumerator(c),d=[];try{while(b.moveNext())d.push(b.current())}finally{b.dispose()}return d};a.multidimArray=function(d){var a=[];a._defvalue=d;a._sizes=[arguments[1]];for(var c=arguments[1],b=2;b<arguments.length;b++){c*=arguments[b];a._sizes[b-1]=arguments[b]}a.length=c;return a};a.repeat=function(d,c){for(var a=[],b=0;b<c;b++)a.push(d);return a};a.arrayFill=function(d,e,b,a){if(b<0||a<0||b+a>d.length)throw new c;if(Array.prototype.fill)d.fill(e,b,b+a);else while(--a>=0)d[b+a]=e};a.arrayCopy=function(f,d,e,b,a){if(d<0||b<0||a<0)throw new D;if(a>f.length-d||a>e.length-b)throw new c;if(d<b&&f===e)while(--a>=0)e[b+a]=f[d+a];else for(var g=0;g<a;g++)e[b+g]=f[d+g]};a.utcNow=function(){var a=new Date;return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())};a.toUTC=function(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())};a.fromUTC=function(a){return new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()))};a.today=function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate())};a.formatDate=function(c,b){return a.isNullOrUndefined(b)||b.length===0||b==="i"?c.toString():b==="id"?c.toDateString():b==="it"?c.toTimeString():a._netFormatDate(c,b,false)};a.localeFormatDate=function(c,b){return a.isNullOrUndefined(b)||b.length===0||b==="i"?c.toLocaleString():b==="id"?c.toLocaleDateString():b==="it"?c.toLocaleTimeString():a._netFormatDate(c,b,true)};a._netFormatDate=function(c,f,k){var d=k?e.currentCulture.dateTimeFormat:e.invariantCulture.dateTimeFormat;if(f.length===1)switch(f){case"f":f=d.longDatePattern+" "+d.shortTimePattern;break;case"F":f=d.dateTimePattern;break;case"d":f=d.shortDatePattern;break;case"D":f=d.longDatePattern;break;case"t":f=d.shortTimePattern;break;case"T":f=d.longTimePattern;break;case"g":f=d.shortDatePattern+" "+d.shortTimePattern;break;case"G":f=d.shortDatePattern+" "+d.longTimePattern;break;case"R":case"r":d=e.InvariantCulture.dateTimeFormat;f=d.gmtDateTimePattern;break;case"u":f=d.universalDateTimePattern;break;case"U":f=d.dateTimePattern;c=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds());break;case"s":f=d.sortableDateTimePattern}if(f.charAt(0)==="%")f=f.substr(1);if(!Date._formatRE)Date._formatRE=/'.*?[^\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z/g;var i=Date._formatRE,j=new U;i.lastIndex=0;while(true){var l=i.lastIndex,h=i.exec(f);j.append(f.slice(l,h?h.index:f.length));if(!h)break;var g=h[0],b=g;switch(g){case"dddd":b=d.dayNames[c.getDay()];break;case"ddd":b=d.shortDayNames[c.getDay()];break;case"dd":b=a.padLeftString(c.getDate().toString(),2,48);break;case"d":b=c.getDate();break;case"MMMM":b=d.monthNames[c.getMonth()];break;case"MMM":b=d.shortMonthNames[c.getMonth()];break;case"MM":b=a.padLeftString((c.getMonth()+1).toString(),2,48);break;case"M":b=c.getMonth()+1;break;case"yyyy":b=c.getFullYear();break;case"yy":b=a.padLeftString((c.getFullYear()%100).toString(),2,48);break;case"y":b=c.getFullYear()%100;break;case"h":case"hh":b=c.getHours()%12;if(!b)b="12";else if(g==="hh")b=a.padLeftString(b.toString(),2,48);break;case"HH":b=a.padLeftString(c.getHours().toString(),2,48);break;case"H":b=c.getHours();break;case"mm":b=a.padLeftString(c.getMinutes().toString(),2,48);break;case"m":b=c.getMinutes();break;case"ss":b=a.padLeftString(c.getSeconds().toString(),2,48);break;case"s":b=c.getSeconds();break;case"t":case"tt":b=c.getHours()<12?d.amDesignator:d.pmDesignator;if(g==="t")b=b.charAt(0);break;case"fff":b=a.padLeftString(c.getMilliseconds().toString(),3,48);break;case"ff":b=a.padLeftString(c.getMilliseconds().toString(),3).substr(0,2);break;case"f":b=a.padLeftString(c.getMilliseconds().toString(),3).charAt(0);break;case"z":b=c.getTimezoneOffset()/60;b=(b>=0?"-":"+")+Math.floor(Math.abs(b));break;case"zz":case"zzz":b=c.getTimezoneOffset()/60;b=(b>=0?"-":"+")+Math.floor(a.padLeftString(Math.abs(b)).toString(),2,48);if(g==="zzz")b+=d.timeSeparator+Math.abs(a.padLeftString(c.getTimezoneOffset()%60).toString(),2,48);break;default:if(b.charAt(0)==="'")b=b.substr(1,b.length-2).replace(/\\'/g,"'")}j.append(b)}return j.toString()};a._parseExactDate=function(c,k,o,u){o=o&&o.getFormat(j)||e.currentCulture.dateTimeFormat;var q=o.amDesignator,r=o.pmDesignator,t=function(b){for(var c="1234567890",a=0;a<b.length;a++)if(c.indexOf(b.charAt(a))===-1)return false;return true},i=function(f,d,c,e){for(var b=e;b>=c;b--){var a=f.substring(d,d+b);if(a.length<c)return null;if(t(a))return a}return null};c=c+"";k=k+"";var b=0,p=0,s="",a="",f=0,g=1,h=1,d=0,m=0,l=0,n="";while(p<k.length){s=k.charAt(p);a="";while(k.charAt(p)===s&&p<k.length)a+=k.charAt(p++);if(a==="yyyy"||a==="yy"||a==="y"){if(a==="yyyy")f=i(c,b,4,4);if(a==="yy")f=i(c,b,2,2);if(a==="y")f=i(c,b,2,4);if(f==null)return null;b+=f.length;if(f.length===2)if(f>30)f=1900+(f-0);else f=2e3+(f-0)}else if(a==="MM"||a==="M"){g=i(c,b,a.length,2);if(g==null||g<1||g>12)return null;b+=g.length}else if(a==="dd"||a==="d"){h=i(c,b,a.length,2);if(h==null||h<1||h>31)return null;b+=h.length}else if(a==="hh"||a==="h"){d=i(c,b,a.length,2);if(d==null||d<1||d>12)return null;b+=d.length}else if(a==="HH"||a==="H"){d=i(c,b,a.length,2);if(d==null||d<0||d>23)return null;b+=d.length}else if(a==="mm"||a==="m"){m=i(c,b,a.length,2);if(m==null||m<0||m>59)return null;b+=m.length}else if(a==="ss"||a==="s"){l=i(c,b,a.length,2);if(l==null||l<0||l>59)return null;b+=l.length}else if(a==="t"){if(c.substring(b,b+1).toLowerCase()===q.charAt(0).toLowerCase())n=q;else if(c.substring(b,b+1).toLowerCase()===r.charAt(0).toLowerCase())n=r;else return null;b+=1}else if(a==="tt"){if(c.substring(b,b+2).toLowerCase()===q.toLowerCase())n=q;else if(c.substring(b,b+2).toLowerCase()===r.toLowerCase())n=r;else return null;b+=2}else if(c.substring(b,b+a.length)!==a)return null;else b+=a.length}if(b!==c.length)return null;if(g===2)if(f%4===0&&f%100!==0||f%400===0){if(h>29)return null}else if(h>28)return null;if(g===4||g===6||g===9||g===11)if(h>30)return null;if(d<12&&n===r)d=d-0+12;else if(d>11&&n===q)d-=12;return u?new Date(Date.UTC(f,g-1,h,d,m,l)):new Date(f,g-1,h,d,m,l)};a.parseExactDate=function(d,c,b){return a._parseExactDate(d,c,b,false)};a.parseExactDateUTC=function(d,c,b){return a._parseExactDate(d,c,b,true)};a._delegateContains=function(b,d,c){for(var a=0;a<b.length;a+=2)if(b[a]===d&&b[a+1]===c)return true;return false};a._mkdel=function(b){var c=function(){if(b.length===2)return b[1].apply(b[0],arguments);else{for(var d=a.arrayClone(b),c=0;c<d.length;c+=2)a._delegateContains(b,d[c],d[c+1])&&d[c+1].apply(d[c],arguments);return null}};c._targets=b;return c};a.mkdel=function(c,b){if(!c)return b;if(typeof b==="string")b=c[b];return a._mkdel([c,b])};a.delegateCombine=function(b,c){if(!b)return!c._targets?a.mkdel(null,c):c;if(!c)return!b._targets?a.mkdel(null,b):b;var d=b._targets?b._targets:[null,b],e=c._targets?c._targets:[null,c];return a._mkdel(d.concat(e))};a.delegateRemove=function(d,b){if(!d||d===b)return null;var c=d._targets;if(!b||!c)return d;var g=null,f;if(b._targets){g=b._targets[0];f=b._targets[1]}else f=b;for(var e=0;e<c.length;e+=2)if(c[e]===g&&c[e+1]===f){if(c.length===2)return null;var h=a.arrayClone(c);h.splice(e,2);return a._mkdel(h)}return d};a.delegateEquals=function(a,b){if(a===b)return true;if(!a._targets&&!b._targets)return false;var d=a._targets||[null,a],e=b._targets||[null,b];if(d.length!==e.length)return false;for(var c=0;c<d.length;c++)if(d[c]!==e[c])return false;return true};a.delegateClone=function(b){return b._targets?a._mkdel(b._targets):function(){return b.apply(this,arguments)}};a.thisFix=function(a){return function(){for(var c=[this],b=0;b<arguments.length;b++)c.push(arguments[b]);return a.apply(a,c)}};a.getInvocationList=function(b){if(!b._targets)return[b];for(var d=[],c=0;c<b._targets.length;c+=2)d.push(a.mkdel(b._targets[c],b._targets[c+1]));return d};a.regexpEscape=function(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};a.Debug=g.Debug||function(){};a.Debug.__typeName="Debug";if(!a.Debug.writeln)a.Debug.writeln=function(a){if(g.console){if(g.console.debug){g.console.debug(a);return}else if(g.console.log){g.console.log(a);return}}else if(g.opera&&g.opera.postError){g.opera.postError(a);return}};a.Debug._fail=function(b){a.Debug.writeln(b)};a.Debug.assert=function(c,b){if(!c){b="Assert failed: "+b;confirm(b+"\r\n\r\nBreak into debugger?")&&a.Debug._fail(b)}};a.Debug.fail=function(b){a.Debug._fail(b)};var jb=a.Enum=a.mkType(a,"ss.Enum",{parse:function(f,k){var d=f.prototype,b;if(!a.isFlags(f)){for(b in d)if(d.hasOwnProperty(b))if(b===k)return d[b]}else{for(var i=k.split("|"),j=0,g=true,e=i.length-1;e>=0;e--){var l=i[e].trim(),h=false;for(b in d)if(d.hasOwnProperty(b))if(b===l){j|=d[b];h=true;break}if(!h){g=false;break}}if(g)return j}throw new c("Invalid Enumeration Value");},toString:function(g,f){var d=g.prototype,b;if(!a.isFlags(g)||f===0){for(b in d)if(d.hasOwnProperty(b))if(d[b]===f)return b;throw new c("Invalid Enumeration Value");}else{var e=[];for(b in d)if(d.hasOwnProperty(b))d[b]&f&&a.add(e,b);if(!e.length)throw new c("Invalid Enumeration Value");return e.join(" | ")}},getValues:function(d){var b=[],a=d.prototype;for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}});a.initClass(jb);var e=a.CultureInfo=a.mkType(a,"ss.CultureInfo",function(c,b,a){this.name=c;this.numberFormat=b;this.dateTimeFormat=a},{getFormat:function(a){switch(a){case k:return this.numberFormat;case j:return this.dateTimeFormat;default:return null}}});a.initClass(e,null,[A]);e.invariantCulture=new e("en-US",k.invariantInfo,j.invariantInfo);e.currentCulture=e.invariantCulture;var C=a.IEnumerator=a.mkType(a,"ss.IEnumerator");a.initInterface(C,{current:null,moveNext:null,reset:null},[f]);var p=a.IEnumerable=a.mkType(a,"ss.IEnumerable");a.initInterface(p,{getEnumerator:null});a.getEnumerator=function(a){return a.getEnumerator?a.getEnumerator():new S(a)};var L=a.ICollection=a.mkType(a,"ss.ICollection");a.initInterface(L,{get_count:null,add:null,clear:null,remove:null,contains:null},[p]);a.count=function(a){return a.get_count?a.get_count():a.length};a.add=function(b,c){if(b.add)b.add(c);else if(a.isArray(b))b.push(c);else throw new m;};a.clear=function(b){if(b.clear)b.clear();else if(a.isArray(b))b.length=0;else throw new m;};a.remove=function(b,d){if(b.remove)return b.remove(d);else if(a.isArray(b)){var c=a.indexOf(b,d);if(c>=0){b.splice(c,1);return true}return false}else throw new m;};a.contains=function(b,c){return b.contains?b.contains(c):a.indexOf(b,c)>=0};var H=a.IReadOnlyCollection=a.mkType(a,"ss.IReadOnlyCollection");a.initInterface(H,{get_count:null,contains:null},[p]);var R=a.IEqualityComparer=a.mkType(a,"ss.IEqualityComparer");a.initInterface(R,{areEqual:null,getObjectHashCode:null});var W=a.IComparer=a.mkType(a,"ss.IComparer");a.initInterface(W,{compare:null});a.unbox=function(b){if(!a.isValue(b))throw new d("Nullable object must have a value.");return b};var V=a.Nullable$1=a.mkType(a,"ss.Nullable$1",function(b){return a.registerGenericClassInstance(V,[b],null,{},{isInstanceOfType:function(c){return a.isInstanceOfType(c,b)}})},null,{eq:function(b,c){return!a.isValue(b)?!a.isValue(c):b===c},ne:function(b,c){return!a.isValue(b)?a.isValue(c):b!==c},le:function(b,c){return a.isValue(b)&&a.isValue(c)&&b<=c},ge:function(b,c){return a.isValue(b)&&a.isValue(c)&&b>=c},lt:function(b,c){return a.isValue(b)&&a.isValue(c)&&b<c},gt:function(b,c){return a.isValue(b)&&a.isValue(c)&&b>c},sub:function(b,c){return a.isValue(b)&&a.isValue(c)?b-c:null},add:function(b,c){return a.isValue(b)&&a.isValue(c)?b+c:null},mod:function(b,c){return a.isValue(b)&&a.isValue(c)?b%c:null},div:function(b,c){return a.isValue(b)&&a.isValue(c)?b/c:null},mul:function(b,c){return a.isValue(b)&&a.isValue(c)?b*c:null},band:function(b,c){return a.isValue(b)&&a.isValue(c)?b&c:null},bor:function(b,c){return a.isValue(b)&&a.isValue(c)?b|c:null},bxor:function(b,c){return a.isValue(b)&&a.isValue(c)?b^c:null},shl:function(b,c){return a.isValue(b)&&a.isValue(c)?b<<c:null},srs:function(b,c){return a.isValue(b)&&a.isValue(c)?b>>c:null},sru:function(b,c){return a.isValue(b)&&a.isValue(c)?b>>>c:null},and:function(a,b){return a===true&&b===true?true:a===false||b===false?false:null},or:function(a,b){return a===true||b===true?true:a===false&&b===false?false:null},xor:function(b,c){return a.isValue(b)&&a.isValue(c)?!!(b^c):null},not:function(b){return a.isValue(b)?!b:null},neg:function(b){return a.isValue(b)?-b:null},pos:function(b){return a.isValue(b)?+b:null},cpl:function(b){return a.isValue(b)?~b:null},lift1:function(c,b){return a.isValue(b)?c(b):null},lift2:function(d,b,c){return a.isValue(b)&&a.isValue(c)?d(b,c):null},liftcmp:function(d,b,c){return a.isValue(b)&&a.isValue(c)?d(b,c):false},lifteq:function(f,d,e){var b=a.isValue(d),c=a.isValue(e);return!b&&!c||b&&c&&f(d,e)},liftne:function(f,c,d){var b=a.isValue(c),e=a.isValue(d);return b!==e||b&&f(c,d)}});a.initGenericClass(V,1);var X=a.IList=a.mkType(a,"ss.IList");a.initInterface(X,{get_item:null,set_item:null,indexOf:null,insert:null,removeAt:null},[L,p]);a.getItem=function(a,b){return a.get_item?a.get_item(b):a[b]};a.setItem=function(a,b,c){a.set_item?a.set_item(b,c):(a[b]=c)};a.indexOf=function(b,c){if((!c||typeof c.equals!=="function")&&typeof b.indexOf==="function")return b.indexOf(c);else if(a.isArrayOrTypedArray(b)){for(var d=0;d<b.length;d++)if(a.staticEquals(b[d],c))return d;return-1}else return b.indexOf(c)};a.insert=function(b,c,d){if(b.insert)b.insert(c,d);else if(a.isArray(b))b.splice(c,0,d);else throw new m;};a.removeAt=function(b,c){if(b.removeAt)b.removeAt(c);else if(a.isArray(b))b.splice(c,1);else throw new m;};var T=a.IReadOnlyList=a.mkType(a,"ss.IReadOnlyList");a.initInterface(T,{get_item:null},[H,p]);var Z=/^\s*[+-]?[0-9]+\s*$/,i=function(c,e,d){var b=a[c]=a.mkType(a,"ss."+c,function(){},null,{isInstanceOfType:function(a){return typeof a==="number"&&Math.round(a,0)===a&&a>=e&&a<=d},createInstance:function(){return 0},parse:function(c){var d={};if(!b.tryParse(c,d))throw a.isValue(c)?Z.test(c)?new I:new K:new F("s");return d.$},tryParse:function(c,b){b.$=0;if(!Z.test(c))return false;var a=parseInt(c,10);if(a<e||a>d)return false;b.$=a;return true}});a.initStruct(b,[q,u,B]);return b},tb=i("Byte",0,255),sb=i("SByte",-128,127),pb=i("Int16",-32768,32767),mb=i("UInt16",0,65535),qb=i("Int32",-2147483648,2147483647),nb=i("UInt32",0,4294967295),rb=i("Int64",-9.2233720368547758e18,9.2233720368547758e18),ob=i("UInt64",0,1.8446744073709552e19),Y=i("Char",0,65535);Y.tryParse=function(a,c){var b=a&&a.length===1;c.$=b?a.charCodeAt(0):0;return b};Y.parse=function(b){if(!a.isValue(b))throw new F("s");if(b.length!==1)throw new K;return b.charCodeAt(0)};a.sxb=function(a){return a|(a&128?4294967040:0)};a.sxs=function(a){return a|(a&32768?4294901760:0)};a.clip8=function(b){return a.isValue(b)?a.sxb(b&255):null};a.clipu8=function(b){return a.isValue(b)?b&255:null};a.clip16=function(b){return a.isValue(b)?a.sxs(b&65535):null};a.clipu16=function(b){return a.isValue(b)?b&65535:null};a.clip32=function(b){return a.isValue(b)?b|0:null};a.clipu32=function(b){return a.isValue(b)?b>>>0:null};a.clip64=function(b){return a.isValue(b)?(Math.floor(b/4294967296)|0)*4294967296+(b>>>0):null};a.clipu64=function(b){return a.isValue(b)?(Math.floor(b/4294967296)>>>0)*4294967296+(b>>>0):null};a.ck=function(b,c){if(a.isValue(b)&&!c.isInstanceOfType(b))throw new I;return b};a.trunc=function(b){return a.isValue(b)?b>0?Math.floor(b):Math.ceil(b):null};a.idiv=function(c,b){if(!a.isValue(c)||!a.isValue(b))return null;if(!b)throw new G;return a.trunc(c/b)};a.imod=function(c,b){if(!a.isValue(c)||!a.isValue(b))return null;if(!b)throw new G;return c%b};var hb=a.JsDate=a.mkType(a,"ss.JsDate",function(){},null,{createInstance:function(){return new Date},isInstanceOfType:function(a){return a instanceof Date}});a.initClass(hb,null,[q,u]);var S=a.ArrayEnumerator=a.mkType(a,"ss.ArrayEnumerator",function(a){this._array=a;this._index=-1},{moveNext:function(){this._index++;return this._index<this._array.length},reset:function(){this._index=-1},current:function(){if(this._index<0||this._index>=this._array.length)throw"Invalid operation";return this._array[this._index]},dispose:function(){}});a.initClass(S,null,[C,f]);var eb=a.ObjectEnumerator=a.mkType(a,"ss.ObjectEnumerator",function(a){this._keys=Object.keys(a);this._index=-1;this._object=a},{moveNext:function(){this._index++;return this._index<this._keys.length},reset:function(){this._index=-1},current:function(){if(this._index<0||this._index>=this._keys.length)throw new d("Invalid operation");var a=this._keys[this._index];return{key:a,value:this._object[a]}},dispose:function(){}});a.initClass(eb,null,[C,f]);var J=a.EqualityComparer=a.mkType(a,"ss.EqualityComparer",function(){},{areEqual:function(b,c){return a.staticEquals(b,c)},getObjectHashCode:function(b){return a.isValue(b)?a.getHashCode(b):0}});a.initClass(J,null,[R]);J.def=new J;var M=a.Comparer=a.mkType(a,"ss.Comparer",function(a){this.f=a},{compare:function(a,b){return this.f(a,b)}});a.initClass(M,null,[W]);M.def=new M(function(c,b){return!a.isValue(c)?!a.isValue(b)?0:-1:!a.isValue(b)?1:a.compare(c,b)});var gb=a.KeyValuePair=a.mkType(a,"ss.KeyValuePair",function(){},null,{createInstance:function(){return{key:null,value:null}},isInstanceOfType:function(a){return typeof a==="object"&&"key"in a&&"value"in a}});a.initStruct(gb);var f=a.IDisposable=a.mkType(a,"ss.IDisposable");a.initInterface(f,{dispose:null});var U=a.StringBuilder=a.mkType(a,"ss.StringBuilder",function(b){this._parts=a.isValue(b)&&b!==""?[b]:[];this.length=a.isValue(b)?b.length:0},{append:function(b){if(a.isValue(b)){var c=b.toString();a.add(this._parts,c);this.length+=c.length}return this},appendChar:function(a){return this.append(String.fromCharCode(a))},appendLine:function(a){this.append(a);this.append("\r\n");return this},appendLineChar:function(a){return this.appendLine(String.fromCharCode(a))},clear:function(){this._parts=[];this.length=0},toString:function(){return this._parts.join("")}});a.initClass(U);var ib=a.Random=a.mkType(a,"ss.Random",function(e){var a=e===undefined?parseInt(Date.now()%2147483648):parseInt(Math.abs(e));this.inext=0;this.inextp=21;this.seedArray=new Array(56);for(var b=0;b<56;b++)this.seedArray[b]=0;a=161803398-a;if(a<0)a+=2147483648;this.seedArray[55]=a;var d=1;for(b=1;b<55;b++){var f=21*b%55;this.seedArray[f]=d;d=a-d;if(d<0)d+=2147483648;a=this.seedArray[f]}for(var g=1;g<5;g++)for(var c=1;c<56;c++){this.seedArray[c]-=this.seedArray[1+(c+30)%55];if(this.seedArray[c]<0)this.seedArray[c]+=2147483648}},{next:function(){return this.sample()*2147483648|0},nextMax:function(a){return this.sample()*a|0},nextMinMax:function(a,b){return this.sample()*(b-a)+a|0},nextBytes:function(b){for(var a=0;a<b.length;a++)b[a]=this.sample()*256|0},nextDouble:function(){return this.sample()},sample:function(){if(++this.inext>=56)this.inext=1;if(++this.inextp>=56)this.inextp=1;var a=this.seedArray[this.inext]-this.seedArray[this.inextp];if(a<0)a+=2147483648;this.seedArray[this.inext]=a;return a*(1/2147483648)}});a.initClass(ib);var v=a.EventArgs=a.mkType(a,"ss.EventArgs",function(){});a.initClass(v);v.Empty=new v;var b=a.Exception=a.mkType(a,"ss.Exception",function(b,a){this._message=b||"An error occurred.";this._innerException=a||null;this._error=new Error},{get_message:function(){return this._message},get_innerException:function(){return this._innerException},get_stack:function(){return this._error.stack},toString:function(){var b=this._message,c=this;if(a.isNullOrEmptyString(b))if(a.isValue(a.getInstanceType(c))&&a.isValue(a.getTypeFullName(a.getInstanceType(c))))b=a.getTypeFullName(a.getInstanceType(c));else b="[object Exception]";return b}},{wrap:function(c){return a.isInstanceOfType(c,b)?c:c instanceof TypeError?new l(c.message,new y(c)):c instanceof RangeError?new D(null,c.message,new y(c)):c instanceof Error?new y(c):new b(c.toString())}});a.initClass(b);var cb=a.NotImplementedException=a.mkType(a,"ss.NotImplementedException",function(c,a){b.call(this,c||"The method or operation is not implemented.",a)});a.initClass(cb,b);var m=a.NotSupportedException=a.mkType(a,"ss.NotSupportedException",function(c,a){b.call(this,c||"Specified method is not supported.",a)});a.initClass(m,b);var n=a.AggregateException=a.mkType(a,"ss.AggregateException",function(d,c){this.innerExceptions=a.isValue(c)?a.arrayFromEnumerable(c):[];b.call(this,d||"One or more errors occurred.",this.innerExceptions.length?this.innerExceptions[0]:null)},{flatten:function(){for(var b=[],d=0;d<this.innerExceptions.length;d++){var c=this.innerExceptions[d];if(a.isInstanceOfType(c,n))b.push.apply(b,c.flatten().innerExceptions);else b.push(c)}return new n(this._message,b)}});a.initClass(n,b);var z=a.PromiseException=a.mkType(a,"ss.PromiseException",function(c,e,d){b.call(this,e||(c.length&&c[0]?c[0].toString():"An error occurred"),d);this.arguments=a.arrayClone(c)},{get_arguments:function(){return this._arguments}});z.__typeName="ss.PromiseException";a.PromiseException=z;a.initClass(z,b);var y=a.JsErrorException=a.mkType(a,"ss.JsErrorException",function(a,d,c){b.call(this,d||a.message,c);this.error=a},{get_stack:function(){return this.error.stack}});a.initClass(y,b);var c=a.ArgumentException=a.mkType(a,"ss.ArgumentException",function(d,c,a){b.call(this,d||"Value does not fall within the expected range.",a);this.paramName=c||null});a.initClass(c,b);var F=a.ArgumentNullException=a.mkType(a,"ss.ArgumentNullException",function(b,a,d){if(!a){a="Value cannot be null.";if(b)a+="\nParameter name: "+b}c.call(this,a,b,d)});a.initClass(F,c);var D=a.ArgumentOutOfRangeException=a.mkType(a,"ss.ArgumentOutOfRangeException",function(b,a,d,e){if(!a){a="Value is out of range.";if(b)a+="\nParameter name: "+b}c.call(this,a,b,d);this.actualValue=e||null});a.initClass(D,c);var K=a.FormatException=a.mkType(a,"ss.FormatException",function(c,a){b.call(this,c||"Invalid format.",a)});a.initClass(K,b);var t=a.ArithmeticException=a.mkType(a,"ss.ArithmeticException",function(c,a){b.call(this,c||"Overflow or underflow in the arithmetic operation.",a)});a.initClass(t,b);var I=a.OverflowException=a.mkType(a,"ss.OverflowException",function(b,a){t.call(this,b||"Arithmetic operation resulted in an overflow.",a)});a.initClass(I,t);var G=a.DivideByZeroException=a.mkType(a,"ss.DivideByZeroException",function(b,a){t.call(this,b||"Division by 0.",a)});a.initClass(G,t);var Q=a.InvalidCastException=a.mkType(a,"ss.InvalidCastException",function(c,a){b.call(this,c||"The cast is not valid.",a)});a.initClass(Q,b);var d=a.InvalidOperationException=a.mkType(a,"ss.InvalidOperationException",function(c,a){b.call(this,c||"Operation is not valid due to the current state of the object.",a)});a.initClass(d,b);var l=a.NullReferenceException=a.mkType(a,"ss.NullReferenceException",function(c,a){b.call(this,c||"Object is null.",a)});a.initClass(l,b);var db=a.KeyNotFoundException=a.mkType(a,"ss.KeyNotFoundException",function(c,a){b.call(this,c||"Key not found.",a)});a.initClass(db,b);var O=a.AmbiguousMatchException=a.mkType(a,"ss.AmbiguousMatchException",function(c,a){b.call(this,c||"Ambiguous match.",a)});a.initClass(O,b);var ab=a.IteratorBlockEnumerable=a.mkType(a,"ss.IteratorBlockEnumerable",function(a,b){this._getEnumerator=a;this._this=b},{getEnumerator:function(){return this._getEnumerator.call(this._this)}});a.initClass(ab,null,[p]);var bb=a.IteratorBlockEnumerator=a.mkType(a,"ss.IteratorBlockEnumerator",function(b,a,c,d){this._moveNext=b;this._getCurrent=a;this._dispose=c;this._this=d},{moveNext:function(){try{return this._moveNext.call(this._this)}catch(a){this._dispose&&this._dispose.call(this._this);throw a;}},current:function(){return this._getCurrent.call(this._this)},reset:function(){throw new m("Reset is not supported.");},dispose:function(){this._dispose&&this._dispose.call(this._this)}});a.initClass(bb,null,[C,f]);var kb=a.Lazy=a.mkType(a,"ss.Lazy",function(a){this._valueFactory=a;this.isValueCreated=false},{value:function(){if(!this.isValueCreated){this._value=this._valueFactory();delete this._valueFactory;this.isValueCreated=true}return this._value}});a.initClass(kb);var x=a.OperationCanceledException=a.mkType(a,"ss.OperationCanceledException",function(c,d,a){b.call(this,c||"Operation was canceled.",a);this.cancellationToken=d||o.none});a.initClass(x,b);var s=a.CancellationTokenRegistration=a.mkType(a,"ss.CancellationTokenRegistration",function(a,b){this._cts=a;this._o=b},{dispose:function(){if(this._cts){this._cts._deregister(this._o);this._cts=this._o=null}},equalsT:function(a){return this===a}});a.initStruct(s,[f,q]);var E=a.CancellationTokenSource=a.mkType(a,"ss.CancellationTokenSource",function(b){this._timeout=typeof b==="number"&&b>=0?setTimeout(a.mkdel(this,"cancel"),b,-1):null;this.isCancellationRequested=false;this.token=new o(this);this._handlers=[]},{cancel:function(b){if(this.isCancellationRequested)return;this.isCancellationRequested=true;var d=[],c=this._handlers;this._clean();for(var a=0;a<c.length;a++)try{c[a].f(c[a].s)}catch(e){if(b&&b!==-1)throw e;d.push(e)}if(d.length>0&&b!==-1)throw new n(null,d);},cancelAfter:function(b){if(this.isCancellationRequested)return;this._timeout&&clearTimeout(this._timeout);this._timeout=setTimeout(a.mkdel(this,"cancel"),b,-1)},_register:function(a,c){if(this.isCancellationRequested){a(c);return new s}else{var b={f:a,s:c};this._handlers.push(b);return new s(this,b)}},_deregister:function(b){var a=this._handlers.indexOf(b);a>=0&&this._handlers.splice(a,1)},dispose:function(){this._clean()},_clean:function(){this._timeout&&clearTimeout(this._timeout);this._timeout=null;this._handlers=[];if(this._links){for(var a=0;a<this._links.length;a++)this._links[a].dispose();this._links=null}}},{createLinked:function(){var b=new E;b._links=[];for(var d=a.mkdel(b,"cancel"),c=0;c<arguments.length;c++)b._links.push(arguments[c].register(d));return b}});a.initClass(E,null,[f]);var o=a.CancellationToken=a.mkType(a,"ss.CancellationToken",function(a){if(!(a instanceof E))a=a?o._sourceTrue:o._sourceFalse;this._source=a},{get_canBeCanceled:function(){return!this._source._uncancellable},get_isCancellationRequested:function(){return this._source.isCancellationRequested},throwIfCancellationRequested:function(){if(this._source.isCancellationRequested)throw new x(this);},register:function(a,b){return this._source._register(a,b)}},{_sourceTrue:{isCancellationRequested:true,_register:function(a,b){a(b);return new s}},_sourceFalse:{_uncancellable:true,isCancellationRequested:false,_register:function(){return new s}}});o.none=new o;a.initStruct(o);var P=a.TaskCanceledException=a.mkType(a,"ss.TaskCanceledException",function(b,c,a){x.call(this,b||"A task was canceled.",null,a);this.task=c||null});a.initClass(P,x);var N=a.Task=a.mkType(a,"ss.Task",function(a,b){this._action=a;this._state=b;this.exception=null;this.status=0;this._thens=[];this._result=null},{continueWith:function(d){var a=new h,e=this,c=function(){try{a.setResult(d(e))}catch(c){a.setException(b.wrap(c))}};if(this.isCompleted())setTimeout(c,0);else this._thens.push(c);return a.task},start:function(){if(this.status!==0)throw new d("Task was already started.");var a=this;this.status=3;setTimeout(function(){try{var c=a._action(a._state);delete a._action;delete a._state;a._complete(c)}catch(d){a._fail(new n(null,[b.wrap(d)]))}},0)},_runCallbacks:function(){for(var a=0;a<this._thens.length;a++)this._thens[a](this);delete this._thens},_complete:function(a){if(this.isCompleted())return false;this._result=a;this.status=5;this._runCallbacks();return true},_fail:function(a){if(this.isCompleted())return false;this.exception=a;this.status=7;this._runCallbacks();return true},_cancel:function(){if(this.isCompleted())return false;this.status=6;this._runCallbacks();return true},isCanceled:function(){return this.status===6},isCompleted:function(){return this.status>=5},isFaulted:function(){return this.status===7},_getResult:function(a){switch(this.status){case 5:return this._result;case 6:var b=new P(null,this);throw a?b:new n(null,[b]);case 7:throw a?this.exception.innerExceptions[0]:this.exception;default:throw new d("Task is not yet completed.");}},getResult:function(){return this._getResult(false)},getAwaitedResult:function(){return this._getResult(true)},dispose:function(){}},{delay:function(b){var a=new h;setTimeout(function(){a.setResult(0)},b);return a.task},fromResult:function(b){var a=new N;a.status=5;a._result=b;return a},run:function(c){var a=new h;setTimeout(function(){try{a.setResult(c())}catch(d){a.setException(b.wrap(d))}},0);return a.task},whenAll:function(b){var c=new h;if(b.length===0)c.setResult([]);else for(var i=new Array(b.length),j=b.length,g=false,e=[],f=0;f<b.length;f++)(function(f){b[f].continueWith(function(b){switch(b.status){case 5:i[f]=b.getResult();break;case 6:g=true;break;case 7:a.arrayAddRange(e,b.exception.innerExceptions);break;default:throw new d("Invalid task status "+b.status);}if(--j===0)if(e.length>0)c.setException(e);else if(g)c.setCanceled();else c.setResult(i)})})(f);return c.task},whenAny:function(b){if(!b.length)throw new c("Must wait for at least one task","tasks");for(var a=new h,e=0;e<b.length;e++)b[e].continueWith(function(b){switch(b.status){case 5:a.trySetResult(b);break;case 6:a.trySetCanceled();break;case 7:a.trySetException(b.exception.innerExceptions);break;default:throw new d("Invalid task status "+b.status);}});return a.task},fromDoneCallback:function(e,b,d){var c=new h,a;if(typeof b==="number"){a=Array.prototype.slice.call(arguments,3);if(b<0)b+=a.length+1}else{a=Array.prototype.slice.call(arguments,2);d=b;b=a.length}var f=function(a){c.setResult(a)};a=a.slice(0,b).concat(f,a.slice(b));e[d].apply(e,a);return c.task},fromPromise:function(c,a){var b=new h;if(typeof a==="number")a=function(a){return function(){return arguments[a>=0?a:arguments.length+a]}}(a);else if(typeof a!=="function")a=function(){return Array.prototype.slice.call(arguments,0)};c.then(function(){b.setResult(typeof a==="function"?a.apply(null,arguments):null)},function(){b.setException(new z(Array.prototype.slice.call(arguments,0)))});return b.task},fromNode:function(f,c,e){var d=new h,a;if(typeof c==="function")a=Array.prototype.slice.call(arguments,3);else{a=Array.prototype.slice.call(arguments,2);e=c;c=function(){return arguments[0]}}var g=function(a){if(a)d.setException(b.wrap(a));else d.setResult(c.apply(null,Array.prototype.slice.call(arguments,1)))};a.push(g);f[e].apply(f,a);return d.task}});a.initClass(N,null,[f]);var lb=a.TaskStatus=a.mkEnum(a,"ss.TaskStatus",{created:0,running:3,ranToCompletion:5,canceled:6,faulted:7}),h=a.TaskCompletionSource=a.mkType(a,"ss.TaskCompletionSource",function(){this.task=new N;this.task.status=3},{setCanceled:function(){if(!this.task._cancel())throw new d("Task was already completed.");},setResult:function(a){if(!this.task._complete(a))throw new d("Task was already completed.");},setException:function(a){if(!this.trySetException(a))throw new d("Task was already completed.");},trySetCanceled:function(){return this.task._cancel()},trySetResult:function(a){return this.task._complete(a)},trySetException:function(c){if(a.isInstanceOfType(c,b))c=[c];return this.task._fail(new n(null,c))}});a.initClass(h);var fb=a.CancelEventArgs=a.mkType(a,"ss.CancelEventArgs",function(){v.call(this);this.cancel=false});a.initClass(fb,v);g.ss=a})(global)